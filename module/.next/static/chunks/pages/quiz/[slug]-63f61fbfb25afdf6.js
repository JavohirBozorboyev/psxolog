(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[373],{7817:function(e,t,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/quiz/[slug]",function(){return s(1743)}])},4331:function(e,t,s){"use strict";var a=s(5893);s(7294);let l=()=>(0,a.jsx)("div",{children:(0,a.jsx)("h1",{className:"container py-8 mx-auto text-4xl text-center font-bold text-slate-900 titleText",children:"Loading..."})});t.Z=l},5991:function(e,t,s){"use strict";var a=s(5893);s(7294);let l=()=>(0,a.jsx)("div",{className:" min-h-[60vh] flex justify-center items-center px-3",children:(0,a.jsx)("h1",{className:"container py-8 mx-auto text-4xl text-center font-bold text-slate-900 titleText",children:"Internet Bilan Aloqani Tekshiring !"})});t.Z=l},1743:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return w}});var a=s(5893),l=s(7294),i=s(9008),n=s.n(i);s(1664);var r=s(2262),c=s(7414),d=s(4991),o=s(4127),x=s(2848),u=s(7841),h=s(9734),m=s(8945),g=s(966);let v=()=>(0,a.jsx)("div",{className:"fixed left-0 top-0 bottom-0 right-0 flex justify-center items-center bg-[#0f172a] z-[4001]",children:(0,a.jsx)(g.a,{color:"yellow",size:"xl",variant:"bars"})}),j=e=>{let{data:t,obj:s,setActiveModal:i,setCardData:n,setActiveQuestionCard:h,setValidate:g,validate:j}=e,[p,f]=(0,l.useState)(!1),[b,N]=(0,l.useState)(null),[y,w]=(0,l.useState)(!1),k=(0,l.useRef)(null),z=(0,l.useRef)(null),[S,T]=(0,l.useState)("man"),_=()=>{f(!p),i(!0)},C=()=>{w(!0),null!=b&&m.Z.get("/api/subcategory/".concat(b.slug,"/")).then(e=>{200===e.status&&(n({user:{name:k.current.value,age:z.current.value,gender:S},cardItem:b,data:e.data.test_category}),h(!0),f(!p),w(!1))}).catch(e=>console.log(e))};return(0,a.jsxs)(a.Fragment,{children:[y?(0,a.jsx)(v,{}):null," ",(0,a.jsx)("div",{className:"mx-1",children:(0,a.jsx)("div",{className:"container mx-auto py-2",children:(0,a.jsx)("div",{className:"grid grid-cols-1 gap-4 lg:grid-cols-2",children:t.filter(e=>e.parent===s.id).map(e=>(0,a.jsxs)("div",{className:"overflow-hidden rounded bg-slate-900 p-4 lg:p-12 flex flex-col justify-between",children:[(0,a.jsx)("h2",{className:" text-xl titleText font-semibold text-slate-100",children:e.name}),(0,a.jsxs)("p",{className:"mt-4 text-sm secondText font-[400] text-gray-400",children:[e.body.slice(0,250),"..."]}),(0,a.jsx)("button",{type:"button",onClick(){_(),N(e)},className:"p-2 block bg-slate-700 text-white uppercase titleText mt-4 rounded w-full active:scale-95 duration-200",children:"Testni boshlash"})]},e.id))})})}),(0,a.jsx)(r.u,{className:" z-[3000]",opened:p,onClose:()=>f(!1),title:"Ma'lumotlarni to'ldiring !",children:(0,a.jsxs)(c.x,{sx:{display:"flex",flexDirection:"column",gap:10},children:[(0,a.jsx)(c.x,{children:(0,a.jsx)(d.o,{placeholder:"Ismingizni kiriting...",label:"Ismingizni kiriting",withAsterisk:!0,ref:k,onChange(){k.current.value.length>=3?g(!0):g(!1)}})}),(0,a.jsx)(c.x,{children:(0,a.jsx)(o.Y,{placeholder:"Yoshingizni kiriting..",label:"Yoshingizni kiriting",withAsterisk:!0,min:0,ref:z,value:0})}),(0,a.jsx)(c.x,{children:(0,a.jsxs)(x.Y.Group,{defaultValue:"man",withAsterisk:!0,onChange:e=>T(e),children:[(0,a.jsx)(x.Y,{value:"man",label:"Erkak"}),(0,a.jsx)(x.Y,{value:"woman",label:"Ayol"})]})}),(0,a.jsxs)(c.x,{className:"mt-4 flex justify-end gap-2",children:[(0,a.jsx)(u.z,{radius:"xs",size:"md",variant:"default",onClick:()=>f(!1),className:"bg-slate-500 duration-200 text-white hover:bg-slate-600 rounded",children:"Bekor Qilish"}),j?(0,a.jsx)(u.z,{onClick:C,size:"md",radius:"xs",variant:"default",className:"bg-slate-700 duration-200 text-white hover:bg-slate-800 rounded",children:"Testni Boshlash"}):(0,a.jsx)(u.z,{size:"md",disabled:!0,radius:"xs",variant:"default",className:"bg-slate-700 duration-200 text-white hover:bg-slate-800 rounded",children:"Testni Boshlash"})]})]})})]})};var p=s(4331),f=s(1163),b=s(5991);let N=e=>{var t,s;let{setActiveQuestionCard:i,cardData:n}=e,[r,d]=(0,l.useState)(0),[o,h]=(0,l.useState)([]),[g,v]=(0,l.useState)(!1),[j,p]=(0,l.useState)(null),[f,b]=(0,l.useState)(null),[N,y]=(0,l.useState)(!1),[w,k]=(0,l.useState)(!1),z=n.data,S=()=>{let e=r+1;e<z.length&&d(e),h(e=>{var t;return[...e,{test_id:null===(t=z[r])||void 0===t?void 0:t.id,answer_id:+j}]}),p(null)},T=async()=>{z.length>o.length&&(v(!0),h(e=>[...e,{test_id:z[r].id,answer_id:+j}]))};async function _(){try{var e,t,s;await m.Z.request({method:"POST",url:"/admin-api/info/",data:{full_name:"".concat(n.user.name),age:(null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.age)||0,gender:"".concat((null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.gender)==""?"men":null==n?void 0:null===(s=n.user)||void 0===s?void 0:s.gender),category:n.cardItem.id,test_ball:"1",test_result:"bad",test_api:JSON.stringify([{category:n.cardItem.id,tests:o}])}}).then(function(e){200===e.status&&(b(e.data),y(!0))}).catch(function(e){console.error(e)})}catch(a){console.error(a)}}return(0,a.jsx)("div",{className:" min-h-screen flex items-center ",children:g?!1===w?(0,a.jsx)("div",{className:"flex justify-center w-full ",children:(0,a.jsx)(u.z,{variant:"default",size:"md",onClick(){_(),k(!0)},style:{letterSpacing:"2px"},className:"border-2 border-slate-900 rounded uppercase titleText hover:bg-slate-700 hover:text-white active:scale-95",children:"Natijani Ko'rish"})}):(0,a.jsxs)("div",{className:"container mx-auto p-4",children:[" ",(0,a.jsxs)("h1",{className:"text-2xl text-slate-900 uppercase titleText text-center",children:["Sizning Natijangiz"," "]})," ",(0,a.jsx)("div",{children:!0===N?(0,a.jsxs)("div",{className:"text-xl secondText",children:[(0,a.jsx)("h1",{className:"text-center mt-4 text-gray-700",children:f.message}),(0,a.jsx)("h1",{className:"text-center mt-4 text-slate-900",children:f.tashxis}),(0,a.jsx)("h1",{className:"text-center mt-4 text-slate-900",children:f.tafsiya}),(0,a.jsx)("h1",{className:"text-center mt-4 text-gray-600",children:f.doctor}),(0,a.jsx)("h1",{className:"text-center mt-4 text-gray-600",children:f.tel})]}):(0,a.jsx)("h1",{className:" text-center my-6 text-2xl titleText text-blue-500",children:"Malumotlar yuklanmoqda..."})}),(0,a.jsx)("div",{className:"mt-6 flex justify-center",children:(0,a.jsx)(u.z,{variant:"default",size:"md",onClick:()=>i(!1),style:{letterSpacing:"2px"},className:"bg-slate-900 uppercase titleText hover:bg-slate-700 active:bg-slate-700 text-white",children:"Yopish"})})]}):(0,a.jsxs)("div",{className:"container mx-auto p-4 ",children:[(0,a.jsx)(x.Y.Group,{name:"favoriteFramework",orientation:"vertical",label:"".concat(r+1," | ").concat((null===(t=z[r])||void 0===t?void 0:t.body)||""),spacing:"md",offset:"xl",size:"lg",withAsterisk:!0,onChange(e){p(e)},children:null===(s=z[r])||void 0===s?void 0:s.answer.map((e,t)=>(0,a.jsx)(x.Y,{value:"".concat(e.id),label:e.answer_text,color:"dark"},t))}),(0,a.jsx)(c.x,{className:"mt-6 flex justify-end",children:null===j?(0,a.jsx)(u.z,{disabled:!0,size:"md",style:{letterSpacing:"2px"},className:"bg-slate-900 uppercase titleText hover:bg-slate-700 active:bg-slate-700",children:r+1===z.length?"Tugatish":"Keyingi Savol"}):(0,a.jsx)(u.z,{onClick:r+1===z.length?T:S,size:"md",style:{letterSpacing:"2px"},className:"bg-slate-900 uppercase titleText hover:bg-slate-700 active:bg-slate-700",children:r+1===z.length?"Tugatish":"Keyingi Savol"})})]})})},y=()=>{let e=(0,f.useRouter)(),[t,s]=(0,l.useState)(!1),[i,d]=(0,l.useState)(),[o,x]=(0,l.useState)(!1),[u,m]=(0,l.useState)(!1),{data:g,error:v}=(0,h.ZP)("/api/category/"),{data:y}=(0,h.ZP)("/api/category/".concat(e.query.slug||"","/"));return v?(0,a.jsx)(b.Z,{}):(0,a.jsxs)("div",{children:[(0,a.jsxs)(n(),{children:[(0,a.jsx)("title",{children:"Dr.DILSHOD"}),(0,a.jsx)("meta",{name:"viewport",content:"initial-scale=1.0, width=device-width"}),(0,a.jsx)("meta",{name:"google",content:"notranslate"})]}),(0,a.jsxs)("main",{className:"py-8",children:[(0,a.jsx)("div",{className:"container mx-auto py-10 px-3 md:px-0",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("h1",{className:"text-slate-800 titleText font-bold titleText text-2xl uppercase text-center ",children:null==y?void 0:y.name}),(0,a.jsx)("p",{className:"text-slate-700 secondText mt-4 secondText text-base md:text-lg text-center md:w-1/2 ",children:null==y?void 0:y.body})]})}),g&&y?(0,a.jsx)(j,{data:g,obj:y,setActiveModal:s,setCardData:d,setActiveQuestionCard:x,setValidate:m,validate:u}):(0,a.jsx)(p.Z,{})]}),(0,a.jsx)(r.u,{opened:o,onClose:()=>null,withCloseButton:!1,fullScreen:!0,className:"z-[2000] m-0 p-0 ",children:(0,a.jsx)(c.x,{className:" absolute left-0 right-0 top-0 bottom-0 ",children:(0,a.jsx)(N,{setActiveQuestionCard:x,cardData:i})})})]})};var w=y}},function(e){e.O(0,[649,774,888,179],function(){return e(e.s=7817)}),_N_E=e.O()}]);